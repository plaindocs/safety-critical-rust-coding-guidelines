{"created": "2025-03-15T03:17:25.944435", "current_version": "", "project": "Safety-Critical Rust Coding Guidelines", "versions": {"": {"created": "2025-03-15T03:17:25.944425", "creator": {"program": "sphinx_needs", "version": "5.1.0"}, "needs": {"bad_ex_PO5TyFsRTlWv": {"arch": {}, "avatar": "", "category": "", "closed_at": "", "completion": "", "constraints": [], "constraints_passed": true, "constraints_results": {}, "content": " .. code-block:: rust\n\n   fn calculate_next_position(current: u32, velocity: u32) -> u32 {\n       // Potential for silent overflow in release builds\n       current + velocity\n   }", "created_at": "", "docname": "coding-guidelines/types-and-traits", "doctype": ".rst", "duration": "", "external_css": "external_link", "external_url": null, "fls": "", "has_dead_links": false, "has_forbidden_dead_links": false, "id": "bad_ex_PO5TyFsRTlWv", "id_prefix": "", "is_external": false, "is_modified": false, "is_need": true, "is_part": false, "jinja_content": false, "layout": "", "lineno": 33, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": "gui_xztNdXA2oFNB", "parent_needs": ["gui_xztNdXA2oFNB"], "parent_needs_back": [], "parts": {}, "post_template": null, "pre_template": null, "prefix": "", "query": "", "recommendation": "", "section_name": "Types and Traits", "sections": ["Types and Traits"], "service": "", "signature": "", "specific": "", "status": "draft", "style": null, "tags": [], "template": null, "title": "", "type": "bad_example", "type_name": "Bad Example", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "good_ex_WTe7GoPu5Ez0": {"arch": {}, "avatar": "", "category": "", "closed_at": "", "completion": "", "constraints": [], "constraints_passed": true, "constraints_results": {}, "content": " .. code-block:: rust\n\n   fn calculate_next_position(current: u32, velocity: u32) -> u32 {\n       // Explicitly handle potential overflow with checked addition\n       current.checked_add(velocity).expect(\"Position calculation overflowed\")\n   }", "created_at": "", "docname": "coding-guidelines/types-and-traits", "doctype": ".rst", "duration": "", "external_css": "external_link", "external_url": null, "fls": "", "has_dead_links": false, "has_forbidden_dead_links": false, "id": "good_ex_WTe7GoPu5Ez0", "id_prefix": "", "is_external": false, "is_modified": false, "is_need": true, "is_part": false, "jinja_content": false, "layout": "", "lineno": 44, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": "gui_xztNdXA2oFNB", "parent_needs": ["gui_xztNdXA2oFNB"], "parent_needs_back": [], "parts": {}, "post_template": null, "pre_template": null, "prefix": "", "query": "", "recommendation": "", "section_name": "Types and Traits", "sections": ["Types and Traits"], "service": "", "signature": "", "specific": "", "status": "draft", "style": null, "tags": [], "template": null, "title": "", "type": "good_example", "type_name": "Good Example", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "gui_xztNdXA2oFNB": {"arch": {}, "avatar": "", "category": "types", "closed_at": "", "completion": "", "constraints": [], "constraints_passed": true, "constraints_results": {}, "content": "Code must not rely on Rust's implicit integer wrapping behavior that occurs in release builds.\nInstead, explicitly handle potential overflows using the standard library's checked,\nsaturating, or wrapping operations.\n\n.. rationale::\n   :id: rat_kYiIiW8R2qD1\n   :status: draft\n\n   In debug builds, Rust performs runtime checks for integer overflow and will panic if detected.\n   However, in release builds (with optimizations enabled), integer operations silently wrap\n   around on overflow, creating potential for silent failures and security vulnerabilities.\n\n   Safety-critical software requires consistent and predictable behavior across all build\n   configurations. Explicit handling of potential overflow conditions improves code clarity,\n   maintainability, and reduces the risk of numerical errors in production.\n\n.. bad_example::\n   :id: bad_ex_PO5TyFsRTlWv\n   :status: draft\n\n    .. code-block:: rust\n\n      fn calculate_next_position(current: u32, velocity: u32) -> u32 {\n          // Potential for silent overflow in release builds\n          current + velocity\n      }\n\n.. good_example::\n   :id: good_ex_WTe7GoPu5Ez0\n   :status: draft\n\n    .. code-block:: rust\n\n      fn calculate_next_position(current: u32, velocity: u32) -> u32 {\n          // Explicitly handle potential overflow with checked addition\n          current.checked_add(velocity).expect(\"Position calculation overflowed\")\n      }", "created_at": "", "docname": "coding-guidelines/types-and-traits", "doctype": ".rst", "duration": "", "external_css": "external_link", "external_url": null, "fls": "fls_cokwseo3nnr", "has_dead_links": false, "has_forbidden_dead_links": false, "id": "gui_xztNdXA2oFNB", "id_prefix": "", "is_external": false, "is_modified": false, "is_need": true, "is_part": false, "jinja_content": false, "layout": "", "lineno": 9, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": "", "parent_needs": [], "parent_needs_back": ["rat_kYiIiW8R2qD1", "bad_ex_PO5TyFsRTlWv", "good_ex_WTe7GoPu5Ez0"], "parts": {}, "post_template": null, "pre_template": null, "prefix": "", "query": "", "recommendation": "required", "section_name": "Types and Traits", "sections": ["Types and Traits"], "service": "", "signature": "", "specific": "", "status": "draft", "style": null, "tags": ["numerics"], "template": null, "title": "Avoid Implicit Integer Wrapping", "type": "guideline", "type_name": "Guideline", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "rat_kYiIiW8R2qD1": {"arch": {}, "avatar": "", "category": "", "closed_at": "", "completion": "", "constraints": [], "constraints_passed": true, "constraints_results": {}, "content": "In debug builds, Rust performs runtime checks for integer overflow and will panic if detected.\nHowever, in release builds (with optimizations enabled), integer operations silently wrap\naround on overflow, creating potential for silent failures and security vulnerabilities.\n\nSafety-critical software requires consistent and predictable behavior across all build\nconfigurations. Explicit handling of potential overflow conditions improves code clarity,\nmaintainability, and reduces the risk of numerical errors in production.", "created_at": "", "docname": "coding-guidelines/types-and-traits", "doctype": ".rst", "duration": "", "external_css": "external_link", "external_url": null, "fls": "", "has_dead_links": false, "has_forbidden_dead_links": false, "id": "rat_kYiIiW8R2qD1", "id_prefix": "", "is_external": false, "is_modified": false, "is_need": true, "is_part": false, "jinja_content": false, "layout": "", "lineno": 21, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": "gui_xztNdXA2oFNB", "parent_needs": ["gui_xztNdXA2oFNB"], "parent_needs_back": [], "parts": {}, "post_template": null, "pre_template": null, "prefix": "", "query": "", "recommendation": "", "section_name": "Types and Traits", "sections": ["Types and Traits"], "service": "", "signature": "", "specific": "", "status": "draft", "style": null, "tags": [], "template": null, "title": "", "type": "rationale", "type_name": "Rationale", "updated_at": "", "url": "", "url_postfix": "", "user": ""}}, "needs_amount": 4, "needs_schema": {"$schema": "http://json-schema.org/draft-07/schema#", "properties": {"arch": {"additionalProperties": {"type": "string"}, "default": {}, "description": "Mapping of uml key to uml content.", "field_type": "core", "type": "object"}, "avatar": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "category": {"default": "", "description": "Added by needs_extra_options config", "field_type": "extra", "type": "string"}, "closed_at": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "completion": {"default": "", "description": "Added for needgantt functionality", "field_type": "extra", "type": "string"}, "constraints": {"default": [], "description": "List of constraint names, which are defined for this need.", "field_type": "core", "items": {"type": "string"}, "type": "array"}, "constraints_error": {"default": "", "description": "An error message set if any constraint failed, and `error_message` field is set in config.", "field_type": "core", "type": "string"}, "constraints_passed": {"default": true, "description": "True if all constraints passed, False if any failed, None if not yet checked.", "field_type": "core", "type": "boolean"}, "constraints_results": {"additionalProperties": {"type": "object"}, "default": {}, "description": "Mapping of constraint name, to check name, to result.", "field_type": "core", "type": "object"}, "content": {"default": "", "description": "Content of the need.", "field_type": "core", "type": "string"}, "created_at": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "docname": {"default": null, "description": "Name of the document where the need is defined (None if external).", "field_type": "core", "type": ["string", "null"]}, "doctype": {"default": ".rst", "description": "Type of the document where the need is defined, e.g. '.rst'.", "field_type": "core", "type": "string"}, "duration": {"default": "", "description": "Added for needgantt functionality", "field_type": "extra", "type": "string"}, "external_css": {"default": "", "description": "CSS class name, added to the external reference.", "field_type": "core", "type": "string"}, "external_url": {"default": null, "description": "URL of the need, if it is an external need.", "field_type": "core", "type": ["string", "null"]}, "fls": {"default": "", "description": "Added by needs_extra_options config", "field_type": "extra", "type": "string"}, "has_dead_links": {"default": false, "description": "True if any links reference need ids that are not found in the need list.", "field_type": "core", "type": "boolean"}, "has_forbidden_dead_links": {"default": false, "description": "True if any links reference need ids that are not found in the need list, and the link type does not allow dead links.", "field_type": "core", "type": "boolean"}, "id": {"description": "ID of the data.", "field_type": "core", "type": "string"}, "id_prefix": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "is_external": {"default": false, "description": "If true, no node is created and need is referencing external url.", "field_type": "core", "type": "boolean"}, "is_modified": {"default": false, "description": "Whether the need was modified by needextend.", "field_type": "core", "type": "boolean"}, "is_need": {"default": true, "description": "Whether the need is a need.", "field_type": "core", "type": "boolean"}, "is_part": {"default": false, "description": "Whether the need is a part.", "field_type": "core", "type": "boolean"}, "jinja_content": {"default": false, "description": "Whether the content should be pre-processed by jinja.", "field_type": "core", "type": "boolean"}, "layout": {"default": null, "description": "Key of the layout, which is used to render the need.", "field_type": "core", "type": ["string", "null"]}, "lineno": {"default": null, "description": "Line number where the need is defined (None if external).", "field_type": "core", "type": ["integer", "null"]}, "links": {"default": [], "description": "Link field", "field_type": "links", "items": {"type": "string"}, "type": "array"}, "links_back": {"default": [], "description": "Backlink field", "field_type": "backlinks", "items": {"type": "string"}, "type": "array"}, "max_amount": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "max_content_lines": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "modifications": {"default": 0, "description": "Number of modifications by needextend.", "field_type": "core", "type": "integer"}, "params": {"default": "", "description": "Added by service open-needs", "field_type": "extra", "type": "string"}, "parent_need": {"default": "", "description": "Simply the first parent id.", "field_type": "core", "type": "string"}, "parent_needs": {"default": [], "description": "Link field", "field_type": "links", "items": {"type": "string"}, "type": "array"}, "parent_needs_back": {"default": [], "description": "Backlink field", "field_type": "backlinks", "items": {"type": "string"}, "type": "array"}, "parts": {"additionalProperties": {"type": "object"}, "default": {}, "description": "Mapping of parts, a.k.a. sub-needs, IDs to data that overrides the need's data", "field_type": "core", "type": "object"}, "post_content": {"default": "", "description": "Post-content of the need.", "field_type": "core", "type": "string"}, "post_template": {"default": null, "description": "Post-template of the need.", "field_type": "core", "type": ["string", "null"]}, "pre_content": {"default": "", "description": "Pre-content of the need.", "field_type": "core", "type": "string"}, "pre_template": {"default": null, "description": "Pre-template of the need.", "field_type": "core", "type": ["string", "null"]}, "prefix": {"default": "", "description": "Added by service open-needs", "field_type": "extra", "type": "string"}, "query": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "recommendation": {"default": "", "description": "Added by needs_extra_options config", "field_type": "extra", "type": "string"}, "section_name": {"default": "", "description": "Simply the first section.", "field_type": "core", "type": "string"}, "sections": {"default": [], "description": "Sections of the need.", "field_type": "core", "items": {"type": "string"}, "type": "array"}, "service": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "signature": {"default": "", "description": "Derived from a docutils desc_name node.", "field_type": "core", "type": "string"}, "specific": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "status": {"default": null, "description": "Status of the need.", "field_type": "core", "type": ["string", "null"]}, "style": {"default": null, "description": "Comma-separated list of CSS classes (all appended by `needs_style_`).", "field_type": "core", "type": ["string", "null"]}, "tags": {"default": [], "description": "List of tags.", "field_type": "core", "items": {"type": "string"}, "type": "array"}, "template": {"default": null, "description": "Template of the need.", "field_type": "core", "type": ["string", "null"]}, "title": {"description": "Title of the need.", "field_type": "core", "type": "string"}, "type": {"default": "", "description": "Type of the need.", "field_type": "core", "type": "string"}, "type_name": {"default": "", "description": "Name of the type.", "field_type": "core", "type": "string"}, "updated_at": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "url": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "url_postfix": {"default": "", "description": "Added by service open-needs", "field_type": "extra", "type": "string"}, "user": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}}, "type": "object"}}}}